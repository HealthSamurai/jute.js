---
suite: Expressions
tests:
  - desc: path allows to access different structure values
    scope: {"a": [{"foo": 1}], "b": [1, 2, {"foo": 42}], "c": {"d": true}}
    template:
      foo: $ a.0
      bar: $ b.0
      baz: $ b.2.foo
      bang: $ c.d
      wc: '$ @.*.*.foo'
    result:
      foo: {"foo": 1}
      bar: 1
      baz: 42
      bang: true
      wc: [1, 42]

  - desc: wildcards collects all available elements
    scope: {"a": 3, "b": 5, "c": [true, false]}
    template:
      a: $ @.*
      b: $ c.*
    result:
      a: [3, 5, [true, false]]
      b: [true, false]

  - desc: path can contain single element
    scope:
      foo: 12
    template:
      bar: $ foo
    result:
      bar: 12

  - desc: plus adds numbers
    scope:
    template:
      bar: $ 2 + 6 - 10
    result:
      bar: -2

  - desc: complex algebraic expressions
    scope:
    template:
      ex1: $ 2 + 3 * 3
      ex2: $ 2 + 3 / 3
    result:
      ex1: 11
      ex2: 3

  - desc: negation negates number
    scope:
    template:
      bar: $ -10
    result:
      bar: -10
